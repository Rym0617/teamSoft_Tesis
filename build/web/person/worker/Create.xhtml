<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui"
>

<ui:composition template="/template/template.xhtml">
    <ui:define name="title">#{bundle.CreateWorkerTitle}</ui:define>

    <ui:define name="top">
        <p:breadCrumb>
            <p:menuitem value="Inicio" url="/index.jsf"/>
            <p:menuitem value="Personas" url="/person/index.jsf"/>
            <p:menuitem value="Crear" url="#"/>
        </p:breadCrumb>
    </ui:define>

    <ui:define name="body">
        <h:form id="WorkerCreateForm">
            <div class="ui-g ui-fluid">
                <div class="ui-g-12">

                    <p:fieldset legend="#{bundle.createWorkerGenaralData}" class="ui-fluid">
                        <div class="ui-g-12">
                            <div class="md-inputfield">
                                <p:inputText id="personName" value="#{workerController.selected.personName}"
                                             title="#{bundle.CreateWorkerTitle_personName}" required="true"
                                             requiredMessage="#{bundle.CreateWorkerRequiredMessage_personName}"/>
                                <h:outputLabel value="#{bundle.CreateWorkerLabel_personName}" for="personName">
                                    <p:keyFilter mask="alpha"/>
                                </h:outputLabel>
                            </div>
                            <br/>
                            <div class="md-inputfield">
                                <p:inputText id="idCard" value="#{workerController.selected.idCard}"
                                             title="#{bundle.CreateWorkerTitle_idCard}" required="true"
                                             requiredMessage="#{bundle.CreateWorkerRequiredMessage_idCard}"/>
                                <h:outputLabel value="#{bundle.CreateWorkerLabel_idCard}" for="idCard"/>
                            </div>
                            <br/>
                            <div class="md-inputfield">
                                <p:inputText id="surName" value="#{workerController.selected.surName}"
                                             title="#{bundle.CreateWorkerTitle_surName}"/>
                                <h:outputLabel value="#{bundle.CreateWorkerLabel_surName}" for="surName">
                                    <p:keyFilter mask="alpha"/>
                                </h:outputLabel>
                            </div>
                            <br/>
                            <div class="md-inputfield">
                                <p:inputText id="address" value="#{workerController.selected.address}"
                                             title="#{bundle.CreateWorkerTitle_address}"/>
                                <h:outputLabel value="#{bundle.CreateWorkerLabel_address}" for="address"/>
                            </div>
                            <br/>
                            <div class="md-inputfield">
                                <p:inputText id="phone" value="#{workerController.selected.phone}"
                                             title="#{bundle.CreateWorkerTitle_phone}"/>
                                <h:outputLabel value="#{bundle.CreateWorkerLabel_phone}" for="phone">
                                    <p:keyFilter mask="num"/>
                                </h:outputLabel>
                            </div>
                            <br/>
                            <div class="md-inputfield">
                                <p:inputText id="email" value="#{workerController.selected.email}"
                                             title="#{bundle.CreateWorkerTitle_email}"/>
                                <h:outputLabel value="#{bundle.CreateWorkerLabel_email}" for="email">
                                    <p:keyFilter mask="email"/>
                                </h:outputLabel>
                            </div>
                            <br/>
                            <div class="md-inputfield">
                                <p:inputText id="exp" value="#{workerController.selected.experience}"
                                             title="#{bundle.CreateWorkerTitle_experience}"/>
                                <h:outputLabel value="#{bundle.CreateWorkerLabel_experience}" for="exp">
                                    <p:keyFilter mask="num"/>
                                </h:outputLabel>
                            </div>
                            <br/>
                        </div>
                    </p:fieldset>
                    <br/>
                    <p:fieldset class="ui-fluid">
                        <div class="ui-g-12">
                            <div>
                                <h:outputLabel value="#{bundle.CreateWorkerLabel_sex}" for="sex"/>
                                <p:selectOneMenu effect="clip" id="sex" value="#{workerController.selected.sex}"
                                                 title="#{bundle.CreateWorkerTitle_sex}" required="true"
                                                 requiredMessage="#{bundle.CreateWorkerRequiredMessage_sex}">
                                    <f:selectItem itemLabel="#{bundle.selectOnePlaceHolder}"/>
                                    <f:selectItem itemLabel="F" itemValue="F"/>
                                    <f:selectItem itemLabel="M" itemValue="M"/>
                                </p:selectOneMenu>
                            </div>
                            <br/>
                            <div>
                                <h:outputLabel value="#{bundle.CreateWorkerLabel_inDate}" for="inDate"/>
                                <p:calendar readonlyInput="true" placeholder="dd-mm-yyyy" effect="drop"
                                            pattern="dd/MM/yyyy" navigator="true" id="inDate"
                                            value="#{workerController.selected.inDate}"
                                            title="#{bundle.EditWorkerTitle_inDate}" mask="true"/>
                            </div>
                            <br/>
                            <div>
                                <h:outputLabel value="#{bundle.CreateWorkerLabel_countyFk}" for="countyFk"/>
                                <p:selectOneMenu effect="clip" id="countyFk"
                                                 value="#{workerController.selected.countyFk}" required="true"
                                                 requiredMessage="#{bundle.EditWorkerRequiredMessage_countyFk}"
                                                 filter="true" filterMatchMode="contains">
                                    <f:selectItem itemLabel="#{bundle.selectOnePlaceHolder}"/>
                                    <f:selectItems value="#{countyController.itemsAvailableSelectOne}"
                                                   var="countyFkItem"
                                                   itemValue="#{countyFkItem}"
                                                   itemLabel="#{countyFkItem.countyName}"/>
                                </p:selectOneMenu>
                            </div>
                            <br/>
                            <div>
                                <h:outputLabel value="#{bundle.CreateWorkerLabel_groupFk}" for="groupFk"/>
                                <p:selectOneMenu effect="clip" id="groupFk" value="#{workerController.selected.groupFk}"
                                                 required="true"
                                                 requiredMessage="#{bundle.EditWorkerRequiredMessage_groupFk}"
                                                 filter="true" filterMatchMode="contains">
                                    <f:selectItem itemLabel="#{bundle.selectOnePlaceHolder}"/>
                                    <f:selectItems value="#{personGroupController.itemsAvailableSelectOne}"
                                                   var="groupFkItem"
                                                   itemValue="#{groupFkItem}"
                                                   itemLabel="#{groupFkItem.name}"/>
                                </p:selectOneMenu>
                            </div>
                        </div>
                    </p:fieldset>
                    <br/>
                    <p:fieldset legend="#{bundle.createWorkerFilsetTitle}" toggleable="true">
                        <p:tabView id="tabs" dynamic="true" cache="true">

                            <p:tab id="genCompTab" title="#{bundle.genericCompTab}">

                                <p:panelGrid id="genCompPanelGroup" layout="grid" columns="2">
                                    <p:panelGrid columns="2" layout="grid" styleClass="ui-panelgrid-blank">
                                        <h:outputLabel for="genCompSelection"
                                                       value="#{bundle.selectGenCompetitionHeader}"/>
                                        <p:selectOneListbox id="genCompSelection"
                                                            value="#{myPersonController.selectedGenComp}" filter="true"
                                                            filterMatchMode="contains"
                                                            disabled="#{empty myPersonController.genCmpItems}">
                                            <f:selectItems value="#{myPersonController.genCmpItems}"
                                                           var="genCompSelectionItem"
                                                           itemValue="#{genCompSelectionItem}"
                                                           itemLabel="-#{genCompSelectionItem.competitionName}"/>

                                            <p:ajax event="change"
                                                    listener="#{myPersonController.hadleGenCompAddButton_Listener}"
                                                    update="addGenCompButton,genCompLevels"/>
                                        </p:selectOneListbox>

                                        <h:outputLabel value="#{bundle.genCompetenceLevelSelector}"
                                                       for="genCompLevels"/>
                                        <p:selectOneMenu effect="clip" id="genCompLevels"
                                                         value="#{myPersonController.selectedGenLvl}"
                                                         disabled="#{empty myPersonController.genCmpItems}"
                                                         filter="true" filterMatchMode="contains">
                                            <f:selectItem itemLabel="#{bundle.selectOnePlaceHolder}"/>
                                            <f:selectItems value="#{levelsController.itemsAvailableSelectOne}"
                                                           var="genCompLvlListItem"
                                                           itemValue="#{genCompLvlListItem}"
                                                           itemLabel="#{genCompLvlListItem.levels}->#{genCompLvlListItem.significance}"/>
                                            <p:ajax event="change"
                                                    listener="#{myPersonController.hadleGenCompAddButton_Listener}"
                                                    update="genDimensions,addGenCompButton"/>
                                        </p:selectOneMenu>

                                    </p:panelGrid>

                                    <p:dataList id="genDimensions"
                                                value="#{myPersonController.getGenCompetenceDimensionList()}"
                                                var="genDim" type="ordered">
                                        <f:facet name="header">
                                            #{bundle.genObservableConducts}
                                        </f:facet>
                                        #{genDim.name}
                                    </p:dataList>

                                    <p:commandButton class="z-depth-1" id="addGenCompButton" icon="ui-icon-plus"
                                                     type="button" value="#{bundle.addSelectedWorkerCompetenceLevel}"
                                                     disabled="#{myPersonController.disableGenCompAddButton}">
                                        <p:ajax event="click" update="genCompPanelGroup,selectedGenCompLvl"
                                                listener="#{myPersonController.addGenCompLvl_Listener()}"/>
                                        <p:ajax event="click" update="addGenCompButton"
                                                listener="#{myPersonController.hadleGenCompAddButton_Listener()}"/>
                                    </p:commandButton>
                                </p:panelGrid>

                                <p:dataTable id="selectedGenCompLvl"
                                             value="#{myPersonController.genCmpLvlItems}"
                                             editable="true"
                                             selection="#{myPersonController.genCmpLvlTableSelection}"
                                             style="margin-bottom:0"
                                             var="genCompTableSelection"
                                             rowKey="#{genCompTableSelection.competenceFk.id}"

                                >

                                    <f:facet name="header">
                                        #{bundle.listSelectedWorkerGenCompetences}
                                    </f:facet>

                                    <p:ajax event="rowSelect" update="deleteButton"/>
                                    <p:ajax event="rowUnselect" update="deleteButton"/>
                                    <p:ajax event="rowSelectCheckbox" update="deleteButton"/>
                                    <p:ajax event="rowUnselectCheckbox" update="deleteButton"/>
                                    <p:ajax event="toggleSelect" update="deleteButton"/>

                                    <p:column selectionMode="multiple" style="width:16px;text-align:center"/>

                                    <p:column headerText="#{bundle.ListCompetenceTitle_competitionName}"
                                              filterBy="#{genCompTableSelection.competenceFk.competitionName}"
                                              sortBy="#{genCompTableSelection.competenceFk.competitionName}">
                                        #{genCompTableSelection.competenceFk.competitionName}
                                    </p:column>

                                    <p:column headerText="#{bundle.ListLevelsTitle_levels}"
                                              filterBy="#{genCompTableSelection.levelFk.significance}"
                                              sortBy="#{genCompTableSelection.levelFk.levels}">
                                        #{genCompTableSelection.levelFk.levels}.#{genCompTableSelection.levelFk.significance}
                                    </p:column>

                                    <f:facet name="footer">
                                        <p:commandButton class="z-depth-1" id="deleteButton" type="button"
                                                         process="selectedGenCompLvl" icon="ui-icon-trash"
                                                         value="#{bundle.quitSelectedCompetence}"
                                                         disabled="#{empty myPersonController.genCmpLvlTableSelection}">
                                            <p:ajax event="click"
                                                    update="WorkerCreateForm:tabs:selectedGenCompLvl,WorkerCreateForm:tabs:genCompSelection"
                                                    listener="#{myPersonController.removeGenCompFromTable_Listener()}"/>
                                        </p:commandButton>
                                    </f:facet>
                                </p:dataTable>

                            </p:tab>

                            <p:tab id="techCompTab" title="#{bundle.technicalCompTab}">
                                <div class="ui-g ui-fluid">
                                    <div class="ui-g-12">
                                        <h:panelGroup id="techCompPanelGroup">

                                            <div class="ui-g-12">
                                                <div class="ui-g-6">
                                                    <div class="ui-g-6">
                                                        <h:outputLabel for="techCompSelection"
                                                                       value="#{bundle.selectTechCompetitionHeader}"/>
                                                    </div>
                                                    <div class="ui-g-6">
                                                        <p:selectOneListbox id="techCompSelection"
                                                                            value="#{myPersonController.selectedTechComp}"
                                                                            filter="true" filterMatchMode="contains"
                                                                            disabled="#{empty myPersonController.techCmpItems}">
                                                            <f:selectItems value="#{myPersonController.techCmpItems}"
                                                                           var="selectionItem"
                                                                           itemValue="#{selectionItem}"
                                                                           itemLabel="- #{selectionItem.competitionName}"/>
                                                            <p:ajax event="change"
                                                                    listener="#{myPersonController.hadleTechCompAddButton_Listener()}"
                                                                    update="addTechCompButton,techCompLevels"/>
                                                        </p:selectOneListbox>
                                                    </div>
                                                    <br/>
                                                    <div class="ui-g-6">
                                                        <h:outputLabel value="#{bundle.techCompetenceLevelSelector}"
                                                                       for="techCompLevels"/>
                                                    </div>
                                                    <div class="ui-g-6">
                                                        <p:selectOneMenu effect="clip" id="techCompLevels"
                                                                         value="#{myPersonController.selectedTechLvl}"
                                                                         disabled="#{empty myPersonController.techCmpItems}"
                                                                         filter="true" filterMatchMode="contains">
                                                            <f:selectItem itemLabel="#{bundle.selectOnePlaceHolder}"/>
                                                            <f:selectItems
                                                                    value="#{levelsController.itemsAvailableSelectOne}"
                                                                    var="techCompLvlListItem"
                                                                    itemValue="#{techCompLvlListItem}"
                                                                    itemLabel="#{techCompLvlListItem.levels}->#{techCompLvlListItem.significance}"/>
                                                            <p:ajax event="change"
                                                                    listener="#{myPersonController.hadleTechCompAddButton_Listener}"
                                                                    update="techDimensions,addTechCompButton"/>
                                                        </p:selectOneMenu>
                                                    </div>

                                                    <div class="ui-g-12">
                                                        <br/>
                                                        <p:commandButton class="z-depth-1" id="addTechCompButton"
                                                                         icon="ui-icon-plus" type="button"
                                                                         value="#{bundle.addSelectedWorkerCompetenceLevel}"
                                                                         disabled="#{myPersonController.disableTechCompAddButton}">
                                                            <p:ajax event="click"
                                                                    update="techCompPanelGroup,selectedTechCompLvl"
                                                                    listener="#{myPersonController.addTechCompLvl_Listener()}"/>
                                                            <p:ajax event="click" update="addTechCompButton"
                                                                    listener="#{myPersonController.hadleTechCompAddButton_Listener()}"/>
                                                        </p:commandButton>
                                                    </div>
                                                </div>

                                                <div class="ui-g-6">
                                                    <p:dataList id="techDimensions"
                                                                value="#{myPersonController.getTechCompetenceDimensionList()}"
                                                                var="techDim" type="ordered">
                                                        <f:facet name="header">
                                                            #{bundle.techObservableConducts}
                                                        </f:facet>
                                                        #{techDim.name}
                                                    </p:dataList>
                                                </div>
                                            </div>
                                            <br/>

                                        </h:panelGroup>
                                        <div class="ui-g-12">
                                            <p:dataTable id="selectedTechCompLvl"
                                                         value="#{myPersonController.techCmpLvlItems}"
                                                         editable="true"
                                                         selection="#{myPersonController.techCmpLvlTableSelection}"
                                                         style="margin-bottom:0"
                                                         var="techCompTableSelection"
                                                         rowKey="#{techCompTableSelection.competenceFk.id}"

                                            >

                                                <f:facet name="header">
                                                    #{bundle.listSelectedWorkerTechCompetences}
                                                </f:facet>

                                                <p:ajax event="rowSelect" update="deleteButton"/>
                                                <p:ajax event="rowUnselect" update="deleteButton"/>
                                                <p:ajax event="rowSelectCheckbox" update="deleteButton"/>
                                                <p:ajax event="rowUnselectCheckbox" update="deleteButton"/>
                                                <p:ajax event="toggleSelect" update="deleteButton"/>

                                                <p:column selectionMode="multiple"
                                                          style="width:16px;text-align:center"/>

                                                <p:column headerText="#{bundle.ListCompetenceTitle_competitionName}"
                                                          filterBy="#{techCompTableSelection.competenceFk.competitionName}"
                                                          sortBy="#{techCompTableSelection.competenceFk.competitionName}">
                                                    #{techCompTableSelection.competenceFk.competitionName}
                                                </p:column>

                                                <p:column headerText="#{bundle.ListLevelsTitle_levels}"
                                                          filterBy="#{techCompTableSelection.levelFk.significance}"
                                                          sortBy="#{techCompTableSelection.levelFk.levels}#{techCompTableSelection.levelFk.significance}">
                                                    #{techCompTableSelection.levelFk.levels}.#{techCompTableSelection.levelFk.significance}
                                                </p:column>

                                                <f:facet name="footer">
                                                    <p:commandButton class="z-depth-1" id="deleteButton" type="button"
                                                                     process="selectedTechCompLvl" icon="ui-icon-trash"
                                                                     value="#{bundle.quitSelectedCompetence}"
                                                                     disabled="#{empty myPersonController.techCmpLvlTableSelection}">
                                                        <p:ajax event="click"
                                                                update="selectedTechCompLvl,WorkerCreateForm:tabs:techCompSelection "
                                                                listener="#{myPersonController.removeTechCompFromTable_Listener()}"/>
                                                    </p:commandButton>
                                                </f:facet>
                                            </p:dataTable>
                                        </div>
                                    </div>
                                </div>
                            </p:tab>

                            <p:tab id="interestsTab" title="#{bundle.interesTab}">

                                <div>
                                    <h:outputLabel for="rolInterests" value="#{bundle.personalInterestsMenu}"/>
                                    <p:selectCheckboxMenu id="rolInterests" value="#{myPersonController.selectedRoles}"
                                                          label="#{bundle.selectOnePlaceHolder}"
                                                          filter="true" filterMatchMode="startsWith"
                                                          panelStyle="width:250px" converter="roleConverter"
                                                          style="margin-bottom: 5px"
                                                          disabled="#{empty myPersonController.roles}">
                                        <f:selectItems value="#{myPersonController.roles}" var="rolItemVar"
                                                       itemDescription="#{rolItemVar.roleDesc}"
                                                       itemValue="#{rolItemVar}" itemLabel="#{rolItemVar.roleName}"/>
                                        <p:ajax event="toggleSelect" update="addPreference,isPrefered,addPreference"/>
                                        <p:ajax event="change" update="addPreference,isPrefered,addPreference"/>
                                    </p:selectCheckboxMenu>
                                </div>
                                <br/>
                                <div>

                                    <p:selectOneMenu effect="clip" id="isPrefered"
                                                     value="#{myPersonController.preference}" filter="true"
                                                     filterMatchMode="contains"
                                                     disabled="#{empty myPersonController.selectedRoles}">
                                        <f:selectItem itemLabel="#{bundle.selectOnePlaceHolder}"
                                                      noSelectionOption="true"/>
                                        <f:selectItem itemValue="#{bundle.rolInterestsPrefer}"
                                                      itemLabel="#{bundle.rolInterestsPrefer}"/>
                                        <f:selectItem itemValue="#{bundle.rolInterestsAvoid}"
                                                      itemLabel="#{bundle.rolInterestsAvoid}"/>
                                        <p:ajax event="change" process="isPrefered" update="isPrefered,addPreference"/>
                                    </p:selectOneMenu>
                                </div>
                                <br/>
                                <div>
                                    <p:commandButton class="z-depth-1" id="addPreference" icon="ui-icon-plus"
                                                     type="button" value="#{bundle.add_preference}"
                                                     disabled="#{!myPersonController.preference.equalsIgnoreCase(bundle.rolInterestsPrefer) and !myPersonController.preference.equalsIgnoreCase(bundle.rolInterestsAvoid)}">
                                        <p:ajax event="click"
                                                listener="#{myPersonController.addRolPreference_Listener()}"
                                                update="addPreference,interestsTable,rolInterests,rolInterests,isPrefered"/>
                                    </p:commandButton>
                                </div>
                                <br/>

                                <p:dataTable id="interestsTable"
                                             value="#{myPersonController.personalInterests}"
                                             editable="true"
                                             selection="#{myPersonController.personalInterestsDelete}"
                                             style="margin-bottom:0"
                                             var="pInterests"
                                             rowKey="#{pInterests.rolesFk.id}">

                                    <f:facet name="header">
                                        #{bundle.interest_playing_role}
                                    </f:facet>

                                    <p:ajax event="rowSelect" update="deleteButton"/>
                                    <p:ajax event="rowUnselect" update="deleteButton"/>
                                    <p:ajax event="rowSelectCheckbox" update="deleteButton"/>
                                    <p:ajax event="rowUnselectCheckbox" update="deleteButton"/>
                                    <p:ajax event="toggleSelect" update="deleteButton"/>

                                    <p:column selectionMode="multiple" style="width:16px;text-align:center"/>

                                    <p:column headerText="#{bundle.personalInterestsMenu}"
                                              filterBy="#{pInterests.rolesFk.roleName}"
                                              sortBy="#{pInterests.rolesFk.roleName}">
                                        #{pInterests.rolesFk.roleName}
                                    </p:column>

                                    <p:column headerText="#{bundle.rolInterestsPreferenceTH}"
                                              filterBy="#{pInterests.preference}" sortBy="#{ pInterests.preference}">
                                        <p:selectBooleanButton value="#{ pInterests.preference}"
                                                               onLabel="#{bundle.favorite}"
                                                               offLabel="#{bundle.avoided}" disabled="true"
                                                               onIcon="ui-icon-check"
                                                               offIcon="ui-icon-close"/>
                                    </p:column>

                                    <f:facet name="footer">
                                        <p:commandButton class="z-depth-1" id="deleteButton" type="button"
                                                         process="selectedTechCompLvl" icon="ui-icon-trash"
                                                         value="#{bundle.quitSelectedCompetence}"
                                                         disabled="#{empty myPersonController.personalInterestsDelete}">
                                            <p:ajax event="click" update="interestsTable,#{p:component('rolInterests')}"
                                                    listener="#{myPersonController.removeRolPreference_Listener()}"/>
                                        </p:commandButton>
                                    </f:facet>
                                </p:dataTable>
                            </p:tab>

                            <p:tab id="projectInterestsTab" title="#{bundle.projectInterestsTab}">
                                <div>
                                    <h:outputLabel for="projectInterests"
                                                   value="#{bundle.personalProjectInterestsMenu}"/>
                                    <p:selectCheckboxMenu id="projectInterests"
                                                          value="#{myPersonController.selectedProjects}"
                                                          label="#{bundle.selectOnePlaceHolder}"
                                                          filter="true" filterMatchMode="startsWith"
                                                          panelStyle="width:250px" converter="projectConverter"
                                                          style="margin-bottom: 5px"
                                                          disabled="#{empty myPersonController.projects}">
                                        <f:selectItems value="#{myPersonController.projects}" var="projectsItemVar"
                                                       itemDescription="#{projectsItemVar.projectName}"
                                                       itemValue="#{projectsItemVar}"
                                                       itemLabel="#{projectsItemVar.projectName}"/>
                                        <p:ajax event="toggleSelect"
                                                update="addProjectPreference,isProjectPrefered,addProjectPreference"/>
                                        <p:ajax event="change"
                                                update="addProjectPreference,isProjectPrefered,addProjectPreference"/>
                                    </p:selectCheckboxMenu>

                                    <p:selectOneMenu effect="clip" id="isProjectPrefered"
                                                     value="#{myPersonController.projectPreference}" filter="true"
                                                     filterMatchMode="contains"
                                                     disabled="#{empty myPersonController.selectedProjects}">
                                        <f:selectItem itemValue="#{bundle.projectInterestsPrefer}"
                                                      itemLabel="#{bundle.projectInterestsPrefer}"/>
                                        <f:selectItem itemValue="#{bundle.projectInterestsAvoid}"
                                                      itemLabel="#{bundle.projectInterestsAvoid}"/>
                                        <p:ajax event="change" process="isProjectPrefered"/>
                                    </p:selectOneMenu>
                                </div>
                                <br/>
                                <div>
                                    <p:commandButton class="z-depth-1" id="addProjectPreference" icon="ui-icon-plus"
                                                     type="button" value="#{bundle.add_preference}"
                                                     disabled="#{empty myPersonController.selectedProjects}">
                                        <p:ajax event="click" process="@form"
                                                update="addProjectPreference,projectInterestsTable,projectInterests,projectInterests,isProjectPrefered"
                                                listener="#{myPersonController.addProjectPreference_Listener()}"/>
                                    </p:commandButton>
                                </div>
                                <br/>

                                <p:dataTable id="projectInterestsTable"
                                             value="#{myPersonController.personalProjectInterests}"
                                             editable="true"
                                             selection="#{myPersonController.selectedPersonalProjectInterests}"
                                             style="margin-bottom:0"
                                             var="ppi"
                                             rowKey="#{ppi.projectFk.id}">

                                    <f:facet name="header">
                                        #{bundle.interest_playing_team}
                                    </f:facet>

                                    <p:ajax event="rowSelect" update="deleteButtonProject"/>
                                    <p:ajax event="rowUnselect" update="deleteButtonProject"/>
                                    <p:ajax event="rowSelectCheckbox" update="deleteButtonProject"/>
                                    <p:ajax event="rowUnselectCheckbox" update="deleteButtonProject"/>
                                    <p:ajax event="toggleSelect" update="deleteButtonProject"/>

                                    <p:column selectionMode="multiple" style="width:16px;text-align:center"/>

                                    <p:column headerText="#{bundle.personalProjectInterestsMenu}"
                                              filterBy="#{ppi.projectFk.projectName}"
                                              sortBy="#{ppi.projectFk.projectName}">
                                        #{ppi.projectFk.projectName}
                                    </p:column>

                                    <p:column headerText="#{bundle.projectInterestsPreferenceTH}"
                                              filterBy="#{ppi.preference}" sortBy="#{ppi.preference}">
                                        <p:selectBooleanButton value="#{ppi.preference}" onLabel="SÃ­" offLabel="No"
                                                               disabled="false" onIcon="ui-icon-check"
                                                               offIcon="ui-icon-close"/>
                                    </p:column>

                                    <f:facet name="footer">
                                        <p:commandButton class="z-depth-1" id="deleteButtonProject" type="button"
                                                         process="projectInterestsTable" icon="ui-icon-trash"
                                                         value="#{bundle.quitSelectedProject}"
                                                         disabled="#{empty myPersonController.selectedPersonalProjectInterests}">
                                            <p:ajax event="click"
                                                    update="@form,projectInterestsTable,#{p:component('projectInterests')}"
                                                    listener="#{myPersonController.removeProjectPreferenceCreating_Listener()}"/>
                                        </p:commandButton>
                                    </f:facet>
                                </p:dataTable>
                            </p:tab>

                            <p:tab id="mbtiTab" title="MBTI">
                                <div>
                                    <p:outputLabel value="#{bundle.mbti_type}"/>
                                    <br/>
                                    <p:selectOneMenu effect="clip" id="workerFk" value="#{myPersonController.mbtiType}"
                                                     required="true"
                                                     requiredMessage="#{bundle.need_select_mbti_type}">
                                        <f:selectItem itemLabel="#{bundle.selectOnePlaceHolder}"
                                                      noSelectionOption="false"/>
                                        <f:selectItem itemValue="ESTJ" itemLabel="ESTJ"/>
                                        <f:selectItem itemValue="ENTJ" itemLabel="ENTJ"/>
                                        <f:selectItem itemValue="ESFJ" itemLabel="ESFJ"/>
                                        <f:selectItem itemValue="ENFJ" itemLabel="ENFJ"/>
                                        <f:selectItem itemValue="ESTP" itemLabel="ESTP"/>
                                        <f:selectItem itemValue="ENTP" itemLabel="ENTP"/>
                                        <f:selectItem itemValue="ESFP" itemLabel="ESFP"/>
                                        <f:selectItem itemValue="ENFP" itemLabel="ENFP"/>
                                        <f:selectItem itemValue="ISTJ" itemLabel="ISTJ"/>
                                        <f:selectItem itemValue="INTJ" itemLabel="INTJ"/>
                                        <f:selectItem itemValue="ISFJ" itemLabel="ISFJ"/>
                                        <f:selectItem itemValue="INFJ" itemLabel="INFJ"/>
                                        <f:selectItem itemValue="ISTP" itemLabel="ISTP"/>
                                        <f:selectItem itemValue="INTP" itemLabel="INTP"/>
                                        <f:selectItem itemValue="ISFP" itemLabel="ISFP"/>
                                        <f:selectItem itemValue="INFP" itemLabel="INFP"/>
                                    </p:selectOneMenu>
                                    <br/>
                                </div>
                            </p:tab>

                            <p:tab id="belbinTab" title="#{bundle.belbin_roles}">
                                <div class="ui-g ui-fluid">
                                    <div class="ui-g-12">
                                        <div class="ui-g-3">
                                            <p:outputLabel value="#{bundle.Finisher}"/>
                                        </div>
                                        <div class="ui-g-9">
                                            <p:selectOneRadio value="#{myPersonController.IF}" required="true"
                                                              requiredMessage="#{bundle.needed_belbin_roles} #{bundle.finisher}.">
                                                <f:selectItem itemLabel="#{bundle.favorite}" itemValue="P"/>
                                                <f:selectItem itemLabel="#{bundle.avoided}" itemValue="E"/>
                                                <f:selectItem itemLabel="#{bundle.indifferent}" itemValue="I"/>
                                            </p:selectOneRadio>
                                        </div>
                                    </div>
                                    <div class="ui-g-12">
                                        <div class="ui-g-3">
                                            <p:outputLabel value="#{bundle.Driving}"/>
                                        </div>
                                        <div class="ui-g-9">
                                            <p:selectOneRadio value="#{myPersonController.IS}" required="true"
                                                              requiredMessage="#{bundle.needed_belbin_roles} #{bundle.driving}.">
                                                <f:selectItem itemLabel="#{bundle.favorite}" itemValue="P"/>
                                                <f:selectItem itemLabel="#{bundle.avoided}" itemValue="E"/>
                                                <f:selectItem itemLabel="#{bundle.indifferent}" itemValue="I"/>
                                            </p:selectOneRadio>
                                        </div>
                                    </div>
                                    <div class="ui-g-12">
                                        <div class="ui-g-3">
                                            <p:outputLabel value="#{bundle.Implementer}"/>
                                        </div>
                                        <div class="ui-g-9">
                                            <p:selectOneRadio value="#{myPersonController.ID}" required="true"
                                                              requiredMessage="#{bundle.needed_belbin_roles} #{bundle.implementer}.">
                                                <f:selectItem itemLabel="#{bundle.favorite}" itemValue="P"/>
                                                <f:selectItem itemLabel="#{bundle.avoided}" itemValue="E"/>
                                                <f:selectItem itemLabel="#{bundle.indifferent}" itemValue="I"/>
                                            </p:selectOneRadio>
                                        </div>
                                    </div>
                                    <div class="ui-g-12">
                                        <div class="ui-g-3">
                                            <p:outputLabel value="#{bundle.Brain}"/>
                                        </div>
                                        <div class="ui-g-9">
                                            <p:selectOneRadio value="#{myPersonController.CE}" required="true"
                                                              requiredMessage="#{bundle.needed_belbin_roles} #{bundle.brain}.">
                                                <f:selectItem itemLabel="#{bundle.favorite}" itemValue="P"/>
                                                <f:selectItem itemLabel="#{bundle.avoided}" itemValue="E"/>
                                                <f:selectItem itemLabel="#{bundle.indifferent}" itemValue="I"/>
                                            </p:selectOneRadio>
                                        </div>
                                    </div>
                                    <div class="ui-g-12">
                                        <div class="ui-g-3">
                                            <p:outputLabel value="#{bundle.Specialist}"/>
                                        </div>
                                        <div class="ui-g-9">
                                            <p:selectOneRadio value="#{myPersonController.ES}" required="true"
                                                              requiredMessage="#{bundle.needed_belbin_roles} #{bundle.specialist}.">
                                                <f:selectItem itemLabel="#{bundle.favorite}" itemValue="P"/>
                                                <f:selectItem itemLabel="#{bundle.avoided}" itemValue="E"/>
                                                <f:selectItem itemLabel="#{bundle.indifferent}" itemValue="I"/>
                                            </p:selectOneRadio>
                                        </div>
                                    </div>
                                    <div class="ui-g-12">
                                        <div class="ui-g-3">
                                            <p:outputLabel value="#{bundle.Monitor_evaluator}"/>
                                        </div>
                                        <div class="ui-g-9">
                                            <p:selectOneRadio value="#{myPersonController.ME}" required="true"
                                                              requiredMessage="#{bundle.needed_belbin_roles} #{bundle.monitor_evaluator}.">
                                                <f:selectItem itemLabel="#{bundle.favorite}" itemValue="P"/>
                                                <f:selectItem itemLabel="#{bundle.avoided}" itemValue="E"/>
                                                <f:selectItem itemLabel="#{bundle.indifferent}" itemValue="I"/>
                                            </p:selectOneRadio>
                                        </div>
                                    </div>
                                    <div class="ui-g-12">
                                        <div class="ui-g-3">
                                            <p:outputLabel value="#{bundle.Coordinator}"/>
                                        </div>
                                        <div class="ui-g-9">
                                            <p:selectOneRadio value="#{myPersonController.CO}" required="true"
                                                              requiredMessage="#{bundle.needed_belbin_roles} #{bundle.coordinator}.">
                                                <f:selectItem itemLabel="#{bundle.favorite}" itemValue="P"/>
                                                <f:selectItem itemLabel="#{bundle.avoided}" itemValue="E"/>
                                                <f:selectItem itemLabel="#{bundle.indifferent}" itemValue="I"/>
                                            </p:selectOneRadio>
                                        </div>
                                    </div>
                                    <div class="ui-g-12">
                                        <div class="ui-g-3">
                                            <p:outputLabel value="#{bundle.Cohesive}"/>
                                        </div>
                                        <div class="ui-g-9">
                                            <p:selectOneRadio value="#{myPersonController.CH}" required="true"
                                                              requiredMessage="#{bundle.needed_belbin_roles} #{bundle.cohesive}.">
                                                <f:selectItem itemLabel="#{bundle.favorite}" itemValue="P"/>
                                                <f:selectItem itemLabel="#{bundle.avoided}" itemValue="E"/>
                                                <f:selectItem itemLabel="#{bundle.indifferent}" itemValue="I"/>
                                            </p:selectOneRadio>
                                        </div>
                                    </div>
                                    <div class="ui-g-12">
                                        <div class="ui-g-3">
                                            <p:outputLabel value="#{bundle.Resource_researcher}"/>
                                        </div>
                                        <div class="ui-g-9">
                                            <p:selectOneRadio value="#{myPersonController.IR}" required="true"
                                                              requiredMessage="#{bundle.needed_belbin_roles} #{bundle.resource_researcher}.">
                                                <f:selectItem itemLabel="#{bundle.favorite}" itemValue="P"/>
                                                <f:selectItem itemLabel="#{bundle.avoided}" itemValue="E"/>
                                                <f:selectItem itemLabel="#{bundle.indifferent}" itemValue="I"/>
                                            </p:selectOneRadio>
                                        </div>
                                    </div>
                                </div>
                            </p:tab>
                        </p:tabView>

                    </p:fieldset>
                    <br/>
                </div>
            </div>
            <p:commandButton class="z-depth-1" actionListener="#{myPersonController.create()}" value="#{bundle.Save}"
                             update="@form,:growl"/>
            <p:commandButton class="z-depth-1" value="#{bundle.Cancel}" immediate="true" action="to-person-list"/>

        </h:form>


    </ui:define>

</ui:composition>
</html>
