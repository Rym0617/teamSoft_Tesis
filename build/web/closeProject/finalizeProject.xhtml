<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:p="http://primefaces.org/ui"
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
                    
    <ui:composition template="/template/template.xhtml">
    
    <ui:define name="title">
            <h:outputText value="#{bundle.ListProjectTitle}"></h:outputText>
     </ui:define>
        
        <ui:define name="body">         
        
         <h:form id="ProjectsByUser">
                <p:panel header="#{bundle.ListProjectTitle}">
                    <p:dataTable  id="datalist" value="#{closeProjectBean.projectsByLoggedBoss}" var="item"  
                                  selectionMode="single" selection="#{closeProjectBean.projectSelected}"
                                  paginator="true"
                                  rowKey="#{item.id}"
                                  rows="10"
                                  rowsPerPageTemplate="10,20,30,40,50"
                                  rowHover="true"
                                  >  
                        

                        <p:ajax event="rowSelect"   update="selectProj"/>  
                         <p:ajax event="rowUnselect" update="selectProj"/>
                       
                        <p:column>
                            <f:facet name="header">
                                <h:outputText value="#{bundle.ListProjectTitle_projectName}"/>
                            </f:facet>
                            <h:outputText value="#{item.projectName}"/>
                        </p:column>                        
                        
                        <p:column>
                            <f:facet name="header">
                                <h:outputText value="#{bundle.ListProjectTitle_clientEntityFk}"/>
                            </f:facet>
                            <h:outputText value="#{item.clientEntityFk}"/>
                        </p:column>
                        
                        <p:column>
                            <f:facet name="header">
                                <h:outputText value="#{bundle.ListProjectTitle_provinceFk}"/>
                            </f:facet>
                            <h:outputText value="#{item.provinceFk.countyName}"/>
                        </p:column>
                        <f:facet name="footer">
               
                            <p:commandButton class="z-depth-1" id="selectProj"  value="Seleccionar" action="#{closeProjectBean.membersToEvaluateRoute()}"  disabled="#{empty closeProjectBean.projectSelected}"/>
                            <p:commandButton class="z-depth-1" id="backIndex"  value="Regresar" action="#{closeProjectBean.finalizeToHomeRoute()}" />
                       
                        </f:facet>
                    </p:dataTable>
                </p:panel>
            </h:form>
          </ui:define>  
        
       </ui:composition>
        
    
</ui:composition>
