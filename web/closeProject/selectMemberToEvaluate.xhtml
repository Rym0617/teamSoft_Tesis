<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:p="http://primefaces.org/ui"
    xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
                    
    <ui:composition template="/template/template.xhtml">
        
     <ui:define name="title">
            <h:outputText value="#{bundle.ListProjectTitle}"></h:outputText>
     </ui:define>
        
       <ui:define name="body">   
           <h:form id="WorkerListForm" title="Lista de miembros">
               <p:dataTable  id="datalist" value="#{closeProjectBean.membersSelectedProject}" var="item"
                       selectionMode="single" selection="#{closeProjectBean.memberSelected}"
                         paginator="true"
                         rowKey="#{item.member.personName}"
                         rows="10"
                         rowsPerPageTemplate="10,20,30,40,50"
                         >

                <p:ajax event="rowSelect"   update="evaluateButton"/>
                <p:ajax event="rowUnselect" update="evaluateButton"/>

                <p:column>
                    <f:facet name="header">
                        <h:outputText value="#{bundle.ListWorkerTitle_personName}"/>
                    </f:facet>
                    <h:outputText value="#{item.member.personName}"/>
                </p:column>
                
                <p:column>
                    <f:facet name="header">
                        <h:outputText value="#{bundle.ListWorkerTitle_surName}"/>
                    </f:facet>
                    <h:outputText value="#{item.member.surName}"/>
                </p:column>               
                                             
                <p:column>
                    <f:facet name="header">
                     <h:outputText value="Evaluado"/> 
                      </f:facet>
                    <!--<p:selectBooleanCheckbox value="#{item.evaluate?'Sí':'No'}" />-->
                    <h:outputText value="#{item.evaluate?'Sí':'No'}"/> 
                </p:column>         
                
             
                <f:facet name="footer">
                    <p:commandButton class="z-depth-1" id="evaluateButton" icon="ui-icon-pencil" action="#{closeProjectBean.listMembersToEvaluationRoute()}"   value="Evaluar"    /> 
                 
                </f:facet>
            </p:dataTable>
         <br/>
         <p:commandButton class="z-depth-1" id="finishButton" action="#{closeProjectBean.finalizeSelectProjectAgain()}"   value="Terminar" disabled="#{closeProjectBean.buttonFinalize}"   /> 
         <p:commandButton class="z-depth-1" id="backButton" action="#{closeProjectBean.backFromMemberToProjectRoute()}"   value="Regresar"    /> 
        
        
        </h:form>
      </ui:define>  
   </ui:composition>
</ui:composition>

